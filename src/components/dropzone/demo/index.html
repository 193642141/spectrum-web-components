<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title>DropZone - Spectrum Web Components</title>
        <script type="module">
            // import the illustratedmessage element too
            import {
                defineCustomElements,
                IllustratedMessage,
                Link,
                DropZone,
            } from '../../../index.js';
            defineCustomElements(IllustratedMessage, Link, DropZone);
            // import and define the demo page components
            import * as DemoElements from '../../demo-page/index.js';
            defineCustomElements(...Object.values(DemoElements));
        </script>
        <link rel="stylesheet" href="../../../styles/core-global/all.css" />
        <link rel="stylesheet" href="../../../styles/typography/font.css" />
        <link
            rel="stylesheet"
            href="../../../styles/theme-light/components/dropzone.css"
        />
        <link
            rel="stylesheet"
            href="../../../styles/theme-light/components/illustrated-message.css"
        />
        <link
            rel="stylesheet"
            href="../../../styles/theme-light/components/link.css"
        />
        <link
            rel="stylesheet"
            href="../../../styles/scale-medium/components/dropzone.css"
        />
    </head>

    <body>
        <demo-page title="DropZone">
            <demo-section title="DropZone" show-demo-code>
                <div slot="description">
                    The DropZone component lets you drop items onto it using the
                    <a
                        href="https://developer.mozilla.org/en-US/docs/Web/API/HTML_Drag_and_Drop_API"
                    >
                        Drag and Drop API
                    </a>
                    . This example only accepts image files.
                </div>
                <div slot="demo">
                    <spectrum-dropzone id="dropzone">
                        <spectrum-illustrated-message
                            heading="Drag and Drop Your File"
                        >
                            <svg>
                                <use
                                    xlink:href="geometry.svg#upload_geometry"
                                />
                            </svg>
                        </spectrum-illustrated-message>

                        <div style="color: grey">
                            <div>
                                <label for="file-input">
                                    <spectrum-link>Select a File</spectrum-link>
                                    from your computer
                                </label>
                                <input
                                    type="file"
                                    id="file-input"
                                    style="display: none"
                                />
                            </div>
                            <div>
                                or
                                <spectrum-link
                                    href="http://stock.adobe.com"
                                    target="blank"
                                >
                                    Search Adobe Stock
                                </spectrum-link>
                            </div>
                        </div>
                    </spectrum-dropzone>

                    <script>
                        const dropzone = document.getElementById('dropzone');
                        dropzone.addEventListener(
                            'dropzone-should-accept',
                            (ev) => {
                                var fileType = ev.detail.dataTransfer.items[0].type.split(
                                    '/'
                                )[0];
                                if (fileType != 'image') {
                                    ev.preventDefault();
                                }
                            }
                        );
                        dropzone.addEventListener('dropzone-drop', (ev) => {
                            // do something with ev.detail.dataTransfer
                            alert(
                                'Uploading : ' +
                                    ev.detail.dataTransfer.files[0].name
                            );
                        });
                    </script>
                </div>
            </demo-section>
        </demo-page>
    </body>
</html>
