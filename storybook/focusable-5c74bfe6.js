import{c as e,p as t,L as s}from"./lit-element-81619d09.js";import{_ as i}from"./tslib.es6-d9c764b6.js";var a=e`:host{pointer-events:none}:host(:not([disabled]))>*{pointer-events:all}`,d=e=>{var t,s=e=>{if(null==e.shadowRoot||e.hasAttribute("data-js-focus-visible"))return()=>{};if(!self.applyFocusVisiblePolyfill){var t=()=>{self.applyFocusVisiblePolyfill&&e.shadowRoot&&self.applyFocusVisiblePolyfill(e.shadowRoot),e.manageAutoFocus&&e.manageAutoFocus()};return self.addEventListener("focus-visible-polyfill-ready",t,{once:!0}),()=>{self.removeEventListener("focus-visible-polyfill-ready",t)}}return self.applyFocusVisiblePolyfill(e.shadowRoot),()=>{}},i=Symbol("endPolyfillCoordination");return t=i,class extends e{constructor(){super(...arguments),this[t]=null}connectedCallback(){super.connectedCallback&&super.connectedCallback(),importShim("./focus-visible-7f07070e.js"),null==this[i]&&(this[i]=s(this))}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),null!=this[i]&&(this[i](),this[i]=null)}}};class n extends(d(s)){constructor(){super(...arguments),this.disabled=!1,this.autofocus=!1,this.tabIndex=0,this.isShiftTabbing=!1,this.newTabindex=0,this.oldTabindex=0}static get styles(){return[a]}get focusElement(){throw new Error("Must implement focusElement getter!")}focus(){this.disabled||this.focusElement.focus()}blur(){this.focusElement.blur()}manageAutoFocus(){this.autofocus&&(this.dispatchEvent(new KeyboardEvent("keydown",{code:"Tab"})),this.focus())}firstUpdated(e){super.firstUpdated(e),this.manageAutoFocus(),this.manageFocusIn(),this.manageShiftTab()}manageFocusIn(){this.addEventListener("focusin",e=>{e.composedPath()[0]===this&&this.handleFocus()})}manageShiftTab(){this.addEventListener("keydown",e=>{!e.defaultPrevented&&e.shiftKey&&"Tab"===e.code&&(this.isShiftTabbing=!0,HTMLElement.prototype.focus.apply(this),setTimeout(()=>this.isShiftTabbing=!1,0))})}update(e){e.has("disabled")&&this.handleDisabledChanged(this.disabled,e.get("disabled")),e.has("tabIndex")&&(this.newTabindex=this.tabIndex,this.handleTabIndexChanged(this.tabIndex)),super.update(e)}updated(e){super.updated(e),e.has("disabled")&&(this.focusElement.disabled=this.disabled,this.disabled&&this.blur()),e.has("tabIndex")&&void 0!==this.newTabindex&&(this.focusElement.tabIndex=this.newTabindex,this.newTabindex=void 0)}handleFocus(){this.isShiftTabbing||this.focusElement.focus()}handleDisabledChanged(e,t){e?(this.oldTabindex=this.tabIndex,this.tabIndex=-1,this.setAttribute("aria-disabled","true")):t&&(this.tabIndex=this.oldTabindex,this.removeAttribute("aria-disabled"))}handleTabIndexChanged(e){this.disabled&&e&&(-1!==this.tabIndex&&(this.oldTabindex=this.tabIndex),this.tabIndex=-1)}}i([t({type:Boolean,reflect:!0})],n.prototype,"disabled",void 0),i([t({type:Boolean})],n.prototype,"autofocus",void 0),i([t({type:Number,reflect:!0})],n.prototype,"tabIndex",void 0);export{n as F,d as a,a as f};
//# sourceMappingURL=focusable-5c74bfe6.js.map
