import{c as o,q as e,p as t}from"./lit-element-089a5717.js";import{q as r,s}from"./storybook-preview-9aba481c.js";import{_ as i}from"./tslib.es6-d9c764b6.js";import{i as a}from"./if-defined-f9b5fa5b.js";import{a as l}from"./index-cf4249fd.js";import{a as n}from"./spectrum-icon-alert-small.css-52aaded2.js";import{F as c}from"./focusable-f94b9d2d.js";import"./iconset-svg-7745673b.js";import"./index-71d657ab.js";import"./index-1ecf9978.js";import"./index-da10f6c3.js";var d=o`:host{position:relative;display:inline-block;max-width:100%;width:var(--spectrum-global-dimension-size-2400);min-width:var(--spectrum-dropdown-min-width,var(--spectrum-global-dimension-size-600))}select{-webkit-appearance:none;-moz-appearance:none;appearance:none;-ms-appearance:none}select::-ms-expand{display:none}select::-ms-value{background-color:initial}select+.dropdown{position:absolute;right:var(--spectrum-dropdown-padding-x,var(--spectrum-global-dimension-size-150));top:50%;margin-top:calc(var(--spectrum-icon-chevron-down-medium-height,
var(--spectrum-global-dimension-size-75))/-2)}#button{position:relative;width:100%;display:flex;justify-content:space-between;align-items:center}#label{flex:1 1 auto;white-space:nowrap;overflow:hidden;height:calc(var(--spectrum-dropdown-height,var(--spectrum-global-dimension-size-400)) - var(--spectrum-dropdown-border-size,var(--spectrum-alias-border-size-thin))*2);line-height:calc(var(--spectrum-dropdown-height,var(--spectrum-global-dimension-size-400)) - var(--spectrum-dropdown-border-size,var(--spectrum-alias-border-size-thin))*2);font-size:var(--spectrum-dropdown-text-size,var(--spectrum-alias-font-size-default));text-overflow:ellipsis;text-align:left}#label.placeholder{font-weight:var(--spectrum-dropdown-placeholder-text-font-weight,var(--spectrum-global-font-weight-regular));font-style:var(--spectrum-dropdown-placeholder-text-font-style,var(--spectrum-global-font-style-italic));transition:color var(--spectrum-global-animation-duration-100,.13s) ease-in-out;color:var(--spectrum-dropdown-placeholder-text-color,var(--spectrum-alias-placeholder-text-color))}#label+.dropdown,#label~.dropdown{margin-left:var(--spectrum-dropdown-icon-margin-left,var(--spectrum-global-dimension-size-150))}.dropdown{display:inline-block;position:relative;vertical-align:top;transition:color var(--spectrum-global-animation-duration-100,.13s) ease-out;margin-top:calc((var(--spectrum-dropdown-height,var(--spectrum-global-dimension-size-400)) - var(--spectrum-dropdown-border-size,var(--spectrum-alias-border-size-thin))*2 - var(--spectrum-icon-chevron-down-medium-height,var(--spectrum-global-dimension-size-75)))/ 2);margin-bottom:calc((var(--spectrum-dropdown-height,var(--spectrum-global-dimension-size-400)) - var(--spectrum-dropdown-border-size,var(--spectrum-alias-border-size-thin))*2 - var(--spectrum-icon-chevron-down-medium-height,var(--spectrum-global-dimension-size-75)))/ 2);opacity:1;color:var(--spectrum-dropdown-icon-color,var(--spectrum-alias-icon-color))}#button .icon:not(.dropdown){margin-top:calc((var(--spectrum-dropdown-height,var(--spectrum-global-dimension-size-400)) - var(--spectrum-dropdown-border-size,var(--spectrum-alias-border-size-thin))*2 - var(--spectrum-dropdown-icon-size,var(--spectrum-alias-workflow-icon-size)))/ 2);margin-bottom:calc((var(--spectrum-dropdown-height,var(--spectrum-global-dimension-size-400)) - var(--spectrum-dropdown-border-size,var(--spectrum-alias-border-size-thin))*2 - var(--spectrum-dropdown-icon-size,var(--spectrum-alias-workflow-icon-size)))/ 2)}#button #label+.icon:not(.dropdown){margin-left:var(--spectrum-dropdown-icon-margin-left,var(--spectrum-global-dimension-size-150))}:host([quiet]){width:auto;min-width:var(--spectrum-dropdown-quiet-min-width,var(--spectrum-global-dimension-size-600))}#popover{max-width:var(--spectrum-global-dimension-size-3000)}.spectrum-Dropdown-popover--quiet{margin-left:calc(-1*(var(--spectrum-dropdown-quiet-popover-offset-x,var(--spectrum-global-dimension-size-150)) + var(--spectrum-popover-border-size,var(--spectrum-alias-border-size-thin))))}#button:hover .dropdown{color:var(--spectrum-dropdown-icon-color-hover,var(--spectrum-alias-icon-color-hover))}#button.is-selected .placeholder{color:var(--spectrum-dropdown-placeholder-text-color-down,var(--spectrum-global-color-gray-900))}:host([invalid]) .icon:not(.dropdown):not(.checkmark){color:var(--spectrum-dropdown-validation-icon-color-error,var(--spectrum-semantic-negative-color-icon))}:host([disabled]) #button:hover .dropdown,:host([disabled]) .dropdown,:host([invalid][disabled]) .icon,:host([invalid][disabled]) .icon:not(.dropdown):not(.checkmark){color:var(--spectrum-dropdown-icon-color-disabled,var(--spectrum-alias-icon-color-disabled))}:host([disabled]) #label.placeholder{color:var(--spectrum-dropdown-placeholder-text-color-disabled,var(--spectrum-alias-text-color-disabled))}#label.placeholder:hover{color:var(--spectrum-dropdown-placeholder-text-color-hover,var(--spectrum-alias-placeholder-text-color-hover))}#label.placeholder:active{color:var(--spectrum-dropdown-placeholder-text-color-mouse-focus,var(--spectrum-global-color-gray-900))}#button.focus-visible #label.placeholder{color:var(--spectrum-dropdown-placeholder-text-color-key-focus,var(--spectrum-alias-placeholder-text-color-hover))}#button.focus-visible .dropdown{color:var(--spectrum-dropdown-icon-color-key-focus,var(--spectrum-alias-icon-color-focus))}sp-popover{width:100%}#label~.dropdown{margin-left:var(--spectrum-dropdown-icon-gap,var(--spectrum-global-dimension-size-100))}`,u=o`#button{display:inline-flex;box-sizing:border-box;align-items:center;justify-content:center;overflow:visible;border-style:solid;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-appearance:button;vertical-align:top;transition:background var(--spectrum-global-animation-duration-100,.13s) ease-out,border-color var(--spectrum-global-animation-duration-100,.13s) ease-out,color var(--spectrum-global-animation-duration-100,.13s) ease-out,box-shadow var(--spectrum-global-animation-duration-100,.13s) ease-out;text-decoration:none;font-family:adobe-clean-ux,adobe-clean,Source Sans Pro,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;line-height:1.3;height:var(--spectrum-dropdown-height,var(--spectrum-global-dimension-size-400));font-family:inherit;font-weight:400;font-size:var(--spectrum-dropdown-text-size,var(--spectrum-alias-font-size-default));line-height:normal;-webkit-font-smoothing:initial;cursor:pointer;margin:0;padding:0 var(--spectrum-dropdown-padding-x,var(--spectrum-global-dimension-size-150));border-radius:var(--spectrum-global-dimension-size-50);transition:background-color var(--spectrum-global-animation-duration-100,.13s),box-shadow var(--spectrum-global-animation-duration-100,.13s),border-color var(--spectrum-global-animation-duration-100,.13s);color:var(--spectrum-fieldbutton-text-color,var(--spectrum-alias-text-color));background-color:var(--spectrum-fieldbutton-background-color,var(--spectrum-global-color-gray-75));border:var(--spectrum-dropdown-border-size,var(--spectrum-alias-border-size-thin)) solid var(--spectrum-fieldbutton-border-color,var(--spectrum-global-color-gray-300))}#button,#button:focus{outline:0}#button::-moz-focus-inner{border:0;border-style:none;padding:0;margin-top:-2px;margin-bottom:-2px}#button:disabled{cursor:default}.icon{max-height:100%;flex-shrink:0}#button.is-disabled,#button:disabled{border-width:0;cursor:default}#button.is-open{border-width:var(--spectrum-dropdown-border-size,var(--spectrum-alias-border-size-thin))}.spectrum-FieldButton--quiet{margin:0;padding:0;border-width:0;border-radius:var(--spectrum-fieldbutton-quiet-border-radius,0);color:var(--spectrum-fieldbutton-text-color,var(--spectrum-alias-text-color));border-color:var(--spectrum-fieldbutton-quiet-border-color,var(--spectrum-alias-border-color-transparent));background-color:var(--spectrum-fieldbutton-quiet-background-color,var(--spectrum-alias-background-color-transparent))}#button:hover{color:var(--spectrum-fieldbutton-text-color-hover,var(--spectrum-alias-text-color-hover));background-color:var(--spectrum-fieldbutton-background-color-hover,var(--spectrum-global-color-gray-50));border-color:var(--spectrum-fieldbutton-border-color-hover,var(--spectrum-global-color-gray-400))}#button.focus-visible,#button.is-focused{background-color:var(--spectrum-fieldbutton-background-color-key-focus,var(--spectrum-global-color-gray-50));border-color:var(--spectrum-fieldbutton-border-color-key-focus,var(--spectrum-alias-border-color-focus));box-shadow:0 0 0 1px var(--spectrum-fieldbutton-border-color-key-focus,var(--spectrum-alias-border-color-focus));color:var(--spectrum-fieldbutton-text-color-key-focus,var(--spectrum-alias-text-color-hover))}#button.focus-visible.is-placeholder,#button.is-focused.is-placeholder{color:var(--spectrum-fieldbutton-placeholder-text-color-key-focus,var(--spectrum-alias-placeholder-text-color-hover))}#button.is-selected,#button:active{background-color:var(--spectrum-fieldbutton-background-color-down,var(--spectrum-global-color-gray-200));border-color:var(--spectrum-fieldbutton-border-color-down,var(--spectrum-global-color-gray-400))}#button.is-selected.focus-visible,#button.is-selected.is-focused,#button:active.focus-visible,#button:active.is-focused{box-shadow:none}:host([invalid]) #button{border-color:var(--spectrum-fieldbutton-border-color-error,var(--spectrum-global-color-red-500))}:host([invalid]) #button:hover{border-color:var(--spectrum-fieldbutton-border-color-error-hover,var(--spectrum-global-color-red-600))}:host([invalid]) #button.is-selected,:host([invalid]) #button:active{border-color:var(--spectrum-fieldbutton-border-color-error-down,var(--spectrum-global-color-red-600))}:host([invalid]) #button.focus-visible,:host([invalid]) #button.is-focused{border-color:var(--spectrum-fieldbutton-border-color-error-key-focus,var(--spectrum-alias-border-color-focus));box-shadow:0 0 0 1px var(--spectrum-fieldbutton-border-color-error-key-focus,var(--spectrum-alias-border-color-focus))}#button.is-disabled,#button:disabled{background-color:var(--spectrum-fieldbutton-background-color-disabled,var(--spectrum-global-color-gray-200));color:var(--spectrum-fieldbutton-text-color-disabled,var(--spectrum-alias-text-color-disabled))}#button.is-disabled.focus-visible,#button:disabled.focus-visible{box-shadow:none}#button.is-disabled .icon,#button:disabled .icon{color:var(--spectrum-fieldbutton-icon-color-disabled,var(--spectrum-alias-icon-color-disabled))}.spectrum-FieldButton--quiet:hover{background-color:var(--spectrum-fieldbutton-quiet-background-color-hover,var(--spectrum-alias-background-color-transparent));color:var(--spectrum-fieldbutton-text-color-hover,var(--spectrum-alias-text-color-hover))}.spectrum-FieldButton--quiet.focus-visible,.spectrum-FieldButton--quiet.is-focused{background-color:var(--spectrum-fieldbutton-quiet-background-color-key-focus,var(--spectrum-alias-background-color-transparent));box-shadow:0 2px 0 0 var(--spectrum-fieldbutton-border-color-key-focus,var(--spectrum-alias-border-color-focus))}.spectrum-FieldButton--quiet.focus-visible.is-placeholder,.spectrum-FieldButton--quiet.is-focused.is-placeholder{color:var(--spectrum-fieldbutton-quiet-placeholder-text-color-key-focus,var(--spectrum-alias-placeholder-text-color-hover))}.spectrum-FieldButton--quiet.is-selected,.spectrum-FieldButton--quiet:active{background-color:var(--spectrum-fieldbutton-quiet-background-color-down,var(--spectrum-alias-background-color-transparent));border-color:var(--spectrum-fieldbutton-quiet-border-color-down,var(--spectrum-alias-border-color-transparent))}.spectrum-FieldButton--quiet.is-selected.focus-visible,.spectrum-FieldButton--quiet.is-selected.is-focused,.spectrum-FieldButton--quiet:active.focus-visible,.spectrum-FieldButton--quiet:active.is-focused{background-color:var(--spectrum-fieldbutton-quiet-background-color-key-focus,var(--spectrum-alias-background-color-transparent));box-shadow:0 2px 0 0 var(--spectrum-fieldbutton-border-color-key-focus,var(--spectrum-alias-border-color-focus))}:host([invalid]) .spectrum-FieldButton--quiet.focus-visible,:host([invalid]) .spectrum-FieldButton--quiet.is-focused{box-shadow:0 2px 0 0 var(--spectrum-fieldbutton-border-color-error-key-focus,var(--spectrum-alias-border-color-focus))}.spectrum-FieldButton--quiet.is-disabled,.spectrum-FieldButton--quiet:disabled{background-color:var(--spectrum-fieldbutton-quiet-background-color-disabled,var(--spectrum-alias-background-color-transparent));color:var(--spectrum-fieldbutton-text-color-disabled,var(--spectrum-alias-text-color-disabled))}.spectrum-FieldButton--quiet.is-disabled.focus-visible,.spectrum-FieldButton--quiet:disabled.focus-visible{box-shadow:none}`,p=o`.chevron-down-medium{width:var(--spectrum-icon-chevron-down-medium-width);height:var(--spectrum-icon-chevron-down-medium-height,var(--spectrum-global-dimension-size-75))}`;class m extends c{constructor(){super(),this.disabled=!1,this.invalid=!1,this.open=!1,this.optionsMenu=null,this.quiet=!1,this.value="",this.selectedItemText="",this.listRole="listbox",this.itemRole="option",this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this),this.addEventListener("click",this.onClick),this.addEventListener("sp-menu-item-query-role",o=>{o.stopPropagation(),o.detail.role=this.itemRole}),this.addEventListener("sp-menu-query-role",o=>{o.stopPropagation(),o.detail.role=this.listRole})}static get styles(){return[...super.styles,l,d,n,p]}get focusElement(){return void 0===this.button?this:this.button}onOptionsChange(){this.optionsMenu=this.querySelector("sp-menu"),this.value&&this.requestUpdate("value")}onButtonBlur(){void 0!==this.button&&this.button.removeEventListener("keydown",this.onKeydown)}onButtonClick(){this.toggle()}onButtonFocus(){this.open?this.requestUpdate("open"):void 0!==this.button&&this.button.addEventListener("keydown",this.onKeydown)}onClick(o){var e=o.composedPath().find(o=>o instanceof Element&&null!==this.optionsMenu&&o.getAttribute("role")===this.optionsMenu.childRole);e&&this.setValueFromItem(e)}onKeydown(o){"ArrowDown"===o.code&&null!==this.optionsMenu&&(this.open=!0)}setValueFromItem(o){var e=this.selectedItemText,t=this.value;if(this.selectedItemText=o.itemText,this.value=o.value,!this.dispatchEvent(new Event("change",{cancelable:!0})))return this.selectedItemText=e,void(this.value=t);var r=this.querySelector("[selected]");r&&(r.selected=!1),o.selected=!0,this.open=!1,this.focus()}toggle(){this.open=!this.open}get buttonContent(){return[r` <div id="label" class="${a(this.value?void 0:"placeholder")}"> ${this.value?this.selectedItemText:r` <slot></slot> `} </div> ${this.invalid?r` <sp-icon class="icon alert-small" name="ui:AlertSmall" size="s"></sp-icon> `:s} <sp-icon class="icon dropdown chevron-down-medium" name="ui:ChevronDownMedium" size="s"></sp-icon> `]}render(){return r` <sp-icons-medium></sp-icons-medium> <button aria-haspopup="true" aria-label="${a(this.label||void 0)}" id="button" @blur="${this.onButtonBlur}" @click="${this.onButtonClick}" @focus="${this.onButtonFocus}" ?disabled="${this.disabled}"> ${this.buttonContent} </button> <sp-popover direction="bottom" id="popover" ?open="${this.open}"> <slot name="options" @slotchange="${this.onOptionsChange}"> <sp-menu-item disabled="disabled"> There are no options currently available. </sp-menu-item> </slot> </sp-popover> `}updated(o){var e;(super.updated(o),o.has("value")&&this.optionsMenu)&&([...this.optionsMenu.querySelectorAll(`[role=${this.optionsMenu.childRole}]`)].map(o=>{this.value!==o.value||o.disabled?o.selected=!1:e=o}),e?(e.selected=!0,this.selectedItemText=e.itemText):(this.value="",this.selectedItemText=""),this.optionsMenu.updateSelectedItemIndex());o.has("disabled")&&this.disabled&&(this.open=!1),o.has("open")&&this.open&&requestAnimationFrame(()=>{null!==this.optionsMenu&&(this.dispatchEvent(new KeyboardEvent("keydown",{code:"Tab"})),this.optionsMenu.focus())})}}i([e("#button")],m.prototype,"button",void 0),i([t({type:Boolean,reflect:!0})],m.prototype,"disabled",void 0),i([t({type:Boolean,reflect:!0})],m.prototype,"invalid",void 0),i([t()],m.prototype,"label",void 0),i([t({type:Boolean,reflect:!0})],m.prototype,"open",void 0),i([t({type:Boolean,reflect:!0})],m.prototype,"quiet",void 0),i([t({type:String})],m.prototype,"value",void 0),i([t({type:String})],m.prototype,"selectedItemText",void 0);class b extends m{static get styles(){return[...super.styles,u]}}customElements.get("sp-dropdown")||customElements.define("sp-dropdown",b);export{m as D};
//# sourceMappingURL=index-2d8e1478.js.map
