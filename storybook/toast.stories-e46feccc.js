import{h as t}from"./lit-html-6898710b.js";import{h as o,k as e,i as s,e as a}from"./index-2626287a.js";import{c as r,p as n,L as i}from"./lit-element-81619d09.js";import{_ as c}from"./tslib.es6-d9c764b6.js";import"./if-defined-a4bc040d.js";import"./index-8f46dbd8.js";import"./focusable-ee5c66f3.js";import"./iconset-svg-cf078571.js";import"./index-047233f1.js";import"./observe-slot-text-5194cee4.js";var l=r`:host{box-sizing:border-box;display:inline-flex;flex-direction:row;align-items:stretch;border-radius:var(--spectrum-toast-border-radius,var(--spectrum-global-dimension-static-size-50));padding:var(--spectrum-toast-padding-y,var(--spectrum-global-dimension-size-100)) var(--spectrum-toast-padding-right,var(--spectrum-global-dimension-size-100)) var(--spectrum-toast-padding-y,var(--spectrum-global-dimension-size-100)) var(--spectrum-toast-padding-left,var(--spectrum-global-dimension-size-200));font-size:var(--spectrum-toast-text-size,var(--spectrum-alias-font-size-default));font-weight:var(--spectrum-toast-text-font-weight,var(--spectrum-global-font-weight-bold));-webkit-font-smoothing:antialiased;background-color:var(--spectrum-toast-background-color,var(--spectrum-global-color-static-gray-700));color:var(--spectrum-toast-background-color,var(--spectrum-global-color-static-gray-700))}.type{flex-shrink:0;flex-grow:0;margin:var(--spectrum-global-dimension-size-85) var(--spectrum-toast-icon-padding-right,var(--spectrum-global-dimension-size-150)) var(--spectrum-global-dimension-size-85) 0;color:#fff}.content{flex:1 1 auto;display:inline-block;box-sizing:border-box;padding:var(--spectrum-global-dimension-size-65) var(--spectrum-toast-content-padding-right,var(--spectrum-global-dimension-size-200)) var(--spectrum-global-dimension-size-65) 0;text-align:left;color:var(--spectrum-toast-text-color,var(--spectrum-global-color-static-white))}.buttons{display:flex;flex:0 0 auto;align-items:flex-start;border-left-color:hsla(0,0%,100%,.2)}.buttons .spectrum-ClearButton+.spectrum-ClearButton,.buttons .spectrum-ClearButton+::slotted([slot=action]){margin-left:var(--spectrum-toast-button-gap,var(--spectrum-global-dimension-size-100))}.body{flex:1 1 auto;align-self:center}.body ::slotted([slot=action]){float:right;margin-right:var(--spectrum-global-dimension-size-130)}.body+.buttons{padding-left:var(--spectrum-toast-padding-right,var(--spectrum-global-dimension-size-100));border-left-width:1px;border-left-style:solid}:host([variant=warning]){background-color:var(--spectrum-toast-warning-background-color,var(--spectrum-global-color-static-orange-700))}:host([variant=warning]),:host([variant=warning]) .closeButton.focus-visible:not(:active){color:var(--spectrum-toast-warning-background-color,var(--spectrum-global-color-static-orange-700))}:host([variant=error]),:host([variant=negative]){background-color:var(--spectrum-toast-error-background-color,var(--spectrum-global-color-static-red-700))}:host([variant=error]),:host([variant=error]) .closeButton.focus-visible:not(:active),:host([variant=negative]),:host([variant=negative]) .closeButton.focus-visible:not(:active){color:var(--spectrum-toast-error-background-color,var(--spectrum-global-color-static-red-700))}:host([variant=info]){background-color:var(--spectrum-toast-info-background-color,var(--spectrum-global-color-static-blue-700))}:host([variant=info]),:host([variant=info]) .closeButton.focus-visible:not(:active){color:var(--spectrum-toast-info-background-color,var(--spectrum-global-color-static-blue-700))}:host([variant=positive]),:host([variant=success]){background-color:var(--spectrum-toast-positive-background-color,var(--spectrum-global-color-static-green-700))}:host([variant=positive]),:host([variant=positive]) .closeButton.focus-visible:not(:active),:host([variant=success]),:host([variant=success]) .closeButton.focus-visible:not(:active){color:var(--spectrum-toast-positive-background-color,var(--spectrum-global-color-static-green-700))}.content{line-height:1.5}:host(:not([open])){display:none}`,u=["negative","positive","info","error","warning"];class p extends i{constructor(){super(...arguments),this.open=!1,this._timeout=null,this._variant="",this.countdownStart=0,this.nextCount=-1,this.doCountdown=t=>{this.countdownStart||(this.countdownStart=performance.now()),t-this.countdownStart>this._timeout?this.open=!1:this.countdown()},this.countdown=()=>{cancelAnimationFrame(this.nextCount),this.nextCount=requestAnimationFrame(this.doCountdown)},this.holdCountdown=()=>{this.stopCountdown(),this.addEventListener("focusout",this.resumeCountdown)},this.resumeCountdown=()=>{this.removeEventListener("focusout",this.holdCountdown),this.countdown()}}static get styles(){return[l]}set timeout(t){var o=null!==typeof t&&t>0?Math.max(6e3,t):null,e=this.timeout;o&&this.countdownStart&&(this.countdownStart=performance.now()),this._timeout=o,this.requestUpdate("timeout",e)}get timeout(){return this._timeout}set variant(t){if(t!==this.variant){var o=this.variant;u.includes(t)?(this.setAttribute("variant",t),this._variant=t):(this.removeAttribute("variant"),this._variant=""),this.requestUpdate("variant",o)}}get variant(){return this._variant}renderIcon(o){var e="",s="";switch(o){case"info":e="Information",s="ui:InfoSmall";break;case"negative":case"error":case"warning":e="Error",s="ui:AlertSmall";break;case"positive":case"success":e="Success",s="ui:SuccessSmall";break;default:return t``}return t` <sp-icon class="type" label="${e}" name="${s}" size="s"></sp-icon> `}startCountdown(){this.countdown(),this.addEventListener("focusin",this.holdCountdown)}stopCountdown(){cancelAnimationFrame(this.nextCount),this.countdownStart=0}close(){this.open=!1}render(){return t` <sp-icons-medium></sp-icons-medium> ${this.renderIcon(this.variant)} <div class="body"> <div class="content"> <slot></slot> </div> <slot name="action"></slot> </div> <div class="buttons"> <sp-clear-button label="Close" variant="overBackground" @click="${this.close}"></sp-clear-button> </div> `}firstUpdated(t){super.firstUpdated(t),this.setAttribute("role","alert"),this.open=!0}updated(t){(super.updated(t),t.has("open")&&this.timeout)&&(this.open?this.startCountdown():(this.stopCountdown(),this.dispatchEvent(new CustomEvent("close",{composed:!0,bubbles:!0,cancelable:!0}))||(this.open=!0)));t.has("timeout")&&(null!==this.timeout&&this.open?this.startCountdown():this.stopCountdown())}}c([n({type:Boolean,reflect:!0})],p.prototype,"open",void 0),c([n({type:Number})],p.prototype,"timeout",null),c([n({type:String})],p.prototype,"variant",null),customElements.get("sp-toast")||customElements.define("sp-toast",p);var d=({variant:t="",disappearing:o=!1,open:e=!0,content:s=""})=>a`
    <sp-toast variant=${t} ?disappearing=${o} ?open=${e}>
        ${s}
        <sp-button slot="action" variant="overBackground" quiet>Undo</sp-button>
    </sp-toast>
`,m=()=>{var t=o("Content","This is a toast message.","Component"),a=["",...u],r=e("Variant",a,a[0],"Component"),n=s("Disappearing",!1,"Component"),i=s("Open",!0,"Component");return d({variant:r,disappearing:n,open:i,content:t})},v=t=>{var e=o("Content","This is a toast message.","Component"),a=s("Disappearing",!1,"Component"),r=s("Open",!0,"Component");return d({variant:t,disappearing:a,open:r,content:e})},h=()=>v("positive"),g=()=>v("negative"),b=()=>v("info");export default{component:"sp-toast",title:"Toast"};export{m as Default,b as Info,g as Negative,h as Positive};
//# sourceMappingURL=toast.stories-e46feccc.js.map
