System.register(["./_rollupPluginBabelHelpers-dd1c7cf9.js","./lit-html-c3c4c85b.js","./lit-element-d4673852.js","./tslib.es6-42b07a6d.js","./if-defined-20449433.js"],(function(e){"use strict";var t,n,i,s,o,r,a,c,l,u,d,h,p,v,m;return{setters:[function(e){t=e.a,n=e._,i=e.j,s=e.c,o=e.d,r=e.e,a=e.f,c=e.b},function(e){l=e.h},function(e){u=e.c,d=e.p,h=e.q,p=e.L},function(e){v=e._},function(e){m=e.i}],execute:function(){var f=function(){function e(){n(this,e),this.iconsetMap=new Map}return t(e,[{key:"addIconset",value:function(e,t){this.iconsetMap.set(e,t);var n=new CustomEvent("sp-iconset-added",{bubbles:!0,composed:!0,detail:{name:e,iconset:t}});setTimeout((function(){return window.dispatchEvent(n)}),0)}},{key:"removeIconset",value:function(e){this.iconsetMap.delete(e);var t=new CustomEvent("sp-iconset-removed",{bubbles:!0,composed:!0,detail:{name:e}});setTimeout((function(){return window.dispatchEvent(t)}),0)}},{key:"getIconset",value:function(e){return this.iconsetMap.get(e)}}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}]),e}();function g(){var e=i([":host{display:inline-block;color:inherit;fill:currentColor;pointer-events:none}:host(:not(:root)){overflow:hidden}:host([size=xxs]),:host([size=xxs]) img,:host([size=xxs]) svg{height:calc(var(--spectrum-alias-workflow-icon-size,\nvar(--spectrum-global-dimension-size-225))/2);width:calc(var(--spectrum-alias-workflow-icon-size,\nvar(--spectrum-global-dimension-size-225))/2)}:host([size=xs]),:host([size=xs]) img,:host([size=xs]) svg{height:calc(var(--spectrum-global-dimension-size-300)/2);width:calc(var(--spectrum-global-dimension-size-300)/2)}:host([size=s]),:host([size=s]) img,:host([size=s]) svg{height:var(--spectrum-alias-workflow-icon-size,var(--spectrum-global-dimension-size-225));width:var(--spectrum-alias-workflow-icon-size,var(--spectrum-global-dimension-size-225))}:host([size=m]),:host([size=m]) img,:host([size=m]) svg{height:var(--spectrum-global-dimension-size-300);width:var(--spectrum-global-dimension-size-300)}:host([size=l]),:host([size=l]) img,:host([size=l]) svg{height:calc(var(--spectrum-alias-workflow-icon-size,\nvar(--spectrum-global-dimension-size-225))*2);width:calc(var(--spectrum-alias-workflow-icon-size,\nvar(--spectrum-global-dimension-size-225))*2)}:host([size=xl]),:host([size=xl]) img,:host([size=xl]) svg{height:calc(var(--spectrum-global-dimension-size-300)*2);width:calc(var(--spectrum-global-dimension-size-300)*2)}:host([size=xxl]),:host([size=xxl]) img,:host([size=xxl]) svg{height:calc(var(--spectrum-global-dimension-size-300)*3);width:calc(var(--spectrum-global-dimension-size-300)*3)}#container{height:100%}img{height:auto}::slotted(*),img{width:100%;vertical-align:top}::slotted(*){height:100%}"]);return g=function(){return e},e}var y=u(g());function b(){var e=i([" <slot></slot> "]);return b=function(){return e},e}function w(){var e=i([' <img src="','" alt="','"> ']);return w=function(){return e},e}function k(){var e=i([' <div id="container"></div> ']);return k=function(){return e},e}var z=function(e){function i(){var e;return n(this,i),(e=o(this,r(i).apply(this,arguments))).size="m",e.iconsetListener=function(t){if(e.name){var n=e.parseIcon(e.name);t.detail.name===n.iconset&&(e.updateIconPromise=e.updateIcon())}},e}return s(i,e),t(i,[{key:"connectedCallback",value:function(){a(r(i.prototype),"connectedCallback",this).call(this),window.addEventListener("sp-iconset-added",this.iconsetListener)}},{key:"disconnectedCallback",value:function(){a(r(i.prototype),"disconnectedCallback",this).call(this),window.removeEventListener("sp-iconset-added",this.iconsetListener)}},{key:"firstUpdated",value:function(){this.updateIconPromise=this.updateIcon()}},{key:"attributeChangedCallback",value:function(e,t,n){a(r(i.prototype),"attributeChangedCallback",this).call(this,e,t,n),this.updateIconPromise=this.updateIcon()}},{key:"render",value:function(){return this.name?l(k()):this.src?l(w(),this.src,m(this.label)):l(b())}},{key:"updateIcon",value:function(){var e,t;return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.name){n.next=2;break}return n.abrupt("return",Promise.resolve());case 2:if(e=this.parseIcon(this.name),t=f.getInstance().getIconset(e.iconset)){n.next=6;break}return n.abrupt("return",Promise.resolve());case 6:if(this.iconContainer){n.next=8;break}return n.abrupt("return",Promise.resolve());case 8:return this.iconContainer.innerHTML="",n.abrupt("return",t.applyIconToElement(this.iconContainer,e.icon,this.size,this.label?this.label:""));case 10:case"end":return n.stop()}}),null,this)}},{key:"parseIcon",value:function(e){var t=e.split(":"),n="default",i=e;return t.length>1&&(n=t[0],i=t[1]),{iconset:n,icon:i}}},{key:"_getUpdateComplete",value:function(){return regeneratorRuntime.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(a(r(i.prototype),"_getUpdateComplete",this).call(this));case 2:return e.next=4,regeneratorRuntime.awrap(this.updateIconPromise);case 4:case"end":return e.stop()}}),null,this)}}],[{key:"styles",get:function(){return[y]}}]),i}(p);z.is="sp-icon",v([d()],z.prototype,"src",void 0),v([d()],z.prototype,"name",void 0),v([d({reflect:!0})],z.prototype,"size",void 0),v([d()],z.prototype,"label",void 0),v([h("#container")],z.prototype,"iconContainer",void 0),customElements.get("sp-icon")||customElements.define("sp-icon",z);var I=function(e){function i(){var e;return n(this,i),(e=o(this,r(i).apply(this,arguments))).registered=!1,e.handleRemoved=function(t){t.detail.name===e.name&&(e.registered=!1,e.addIconset())},e}return s(i,e),t(i,[{key:"firstUpdated",value:function(){this.style.display="none"}},{key:"connectedCallback",value:function(){a(r(i.prototype),"connectedCallback",this).call(this),this.addIconset(),window.addEventListener("sp-iconset-removed",this.handleRemoved)}},{key:"disconnectedCallback",value:function(){a(r(i.prototype),"disconnectedCallback",this).call(this),window.removeEventListener("sp-iconset-removed",this.handleRemoved),this.removeIconset()}},{key:"addIconset",value:function(){this.name&&!this.registered&&(f.getInstance().addIconset(this.name,this),this.registered=!0)}},{key:"removeIconset",value:function(){this.name&&(f.getInstance().removeIconset(this.name),this.registered=!1)}},{key:"name",set:function(e){this.registered&&(this._name&&f.getInstance().removeIconset(this._name),e&&f.getInstance().addIconset(e,this)),this._name=e},get:function(){return this._name}}]),i}(p);function C(){var e=i([' <slot @slotchange="','"> '," </slot> "]);return C=function(){return e},e}function x(){var e=i([""]);return x=function(){return e},e}v([d()],I.prototype,"name",null);var S=e("I",function(e){function i(){var e;return n(this,i),(e=o(this,r(i).apply(this,arguments))).iconMap=new Map,e}return s(i,e),t(i,[{key:"updated",value:function(e){if(this.slotContainer){var t=this.getSVGNodes(this.slotContainer);this.updateSVG(t),a(r(i.prototype),"updated",this).call(this,e)}}},{key:"applyIconToElement",value:function(e,t,n,i){var s,o;return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,regeneratorRuntime.awrap(this.updateComplete);case 2:if(s=this.iconMap.get(t)){n.next=5;break}throw new Error("Unable to find icon ".concat(t));case 5:(o=this.prepareSvgClone(s)).setAttribute("role","img"),i?o.setAttribute("aria-label",i):o.setAttribute("aria-hidden","true"),e.shadowRoot?e.shadowRoot.appendChild(o):e.appendChild(o);case 9:case"end":return n.stop()}}),null,this)}},{key:"getIconList",value:function(){return c(this.iconMap.keys())}},{key:"prepareSvgClone",value:function(e){var t=e.cloneNode(!0),n=document.createElementNS("http://www.w3.org/2000/svg","svg"),i=t.getAttribute("viewBox")||"";for(n.style.cssText="pointer-events: none; display: block; width: 100%; height: 100%;",n.setAttribute("viewBox",i),n.setAttribute("preserveAspectRatio","xMidYMid meet"),n.setAttribute("focusable","false");t.childNodes.length>0;)n.appendChild(t.childNodes[0]);return n}},{key:"getSVGIconName",value:function(e){return e}},{key:"getSanitizedIconName",value:function(e){return e}},{key:"renderDefaultContent",value:function(){return l(x())}},{key:"render",value:function(){return l(C(),this.onSlotChange,this.renderDefaultContent())}},{key:"updateSVG",value:function(e){var t=this;e.reduce((function(e,t){var n=t.querySelectorAll("symbol");return e.push.apply(e,c(n)),e}),[]).forEach((function(e){t.iconMap.set(t.getSanitizedIconName(e.id),e)}))}},{key:"getSVGNodes",value:function(e){return e.assignedNodes({flatten:!0}).filter((function(e){return"svg"===e.nodeName}))}},{key:"onSlotChange",value:function(e){var t=e.target,n=this.getSVGNodes(t);this.updateSVG(n)}}]),i}(I));v([h("slot")],S.prototype,"slotContainer",void 0)}}}));
//# sourceMappingURL=iconset-svg-dca806c8.js.map
