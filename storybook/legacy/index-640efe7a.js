System.register(["./storybook-preview-46d09877.js","./lit-element-02beee92.js","./tslib.es6-dba2d4a0.js","./index-8da462b0.js","./focusable-b4d7f760.js","./iconset-svg-8781c76c.js","./index-110a4fc3.js"],(function(){"use strict";var e,t,o,n,s,i,r,c,a,l,u,d,m,p,h,v;return{setters:[function(u){e=u.n,t=u.c,o=u.f,n=u.g,s=u.h,i=u.d,r=u.k,c=u.D,a=u.C,l=u.j},function(e){u=e.c,d=e.p,m=e.L},function(e){p=e._},function(e){h=e.A},function(e){v=e.f},function(){},function(){}],execute:function(){function f(){var t=e(["#selected{transform:scale(1);opacity:1;display:none;align-self:flex-start;flex-grow:0;margin-left:var(--spectrum-selectlist-option-icon-padding-x,var(--spectrum-global-dimension-size-150));margin-top:var(--spectrum-global-dimension-size-50)}#button{cursor:pointer;position:relative;display:flex;align-items:center;box-sizing:border-box;padding:var(--spectrum-global-dimension-size-85) var(--spectrum-selectlist-option-padding,var(--spectrum-global-dimension-static-size-150)) var(--spectrum-global-dimension-size-85) calc(var(--spectrum-selectlist-option-padding,var(--spectrum-global-dimension-static-size-150)) - var(--spectrum-selectlist-border-size-key-focus,var(--spectrum-global-dimension-static-size-25)));margin:0;border-left:var(--spectrum-selectlist-border-size-key-focus,var(--spectrum-global-dimension-static-size-25)) solid transparent;min-height:var(--spectrum-selectlist-option-height);font-size:var(--spectrum-selectlist-option-text-size,var(--spectrum-alias-font-size-default));font-weight:var(--spectrum-selectlist-option-text-font-weight,var(--spectrum-global-font-weight-regular));font-style:normal;text-decoration:none;background-color:var(--spectrum-selectlist-option-background-color,var(--spectrum-alias-background-color-transparent));color:var(--spectrum-selectlist-option-text-color,var(--spectrum-alias-text-color))}#button:focus{outline:0}:host([selected]) #button{padding-right:calc(var(--spectrum-selectlist-option-padding,var(--spectrum-global-dimension-static-size-150)) - var(--spectrum-popover-border-size,var(--spectrum-alias-border-size-thin)));color:var(--spectrum-selectlist-option-text-color-selected,var(--spectrum-alias-text-color))}:host([selected]) #button #selected{display:block;color:var(--spectrum-selectlist-option-icon-color-selected,var(--spectrum-alias-icon-color-selected))}.spectrum-Menu-itemIcon,::slotted([slot=icon]){flex-shrink:0;align-self:flex-start}.spectrum-Menu-itemIcon+#label,slot[name=icon]+#label{margin-left:var(--spectrum-selectlist-thumbnail-image-padding-x,var(--spectrum-global-dimension-size-100))}#label{flex:1 1 auto;line-height:1.3;word-break:break-all}.spectrum-Menu-itemLabel--wrapping{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}#button.focus-visible,#button.is-focused{background-color:var(--spectrum-selectlist-option-background-color-key-focus,var(--spectrum-alias-background-color-hover-overlay));color:var(--spectrum-selectlist-option-text-color-key-focus,var(--spectrum-alias-text-color));border-left-color:var(--spectrum-selectlist-option-focus-indicator-color,var(--spectrum-alias-border-color-focus))}#button.is-highlighted,#button.is-open,#button:focus,#button:hover{background-color:var(--spectrum-selectlist-option-background-color-hover,var(--spectrum-alias-background-color-hover-overlay));color:var(--spectrum-selectlist-option-text-color-hover,var(--spectrum-alias-text-color))}#button:active,.is-active{background-color:var(--spectrum-selectlist-option-background-color-down,var(--spectrum-alias-background-color-hover-overlay))}:host([disabled]) #button{background-color:var(--spectrum-selectlist-option-background-color-disabled,var(--spectrum-alias-background-color-transparent));background-image:none;color:var(--spectrum-selectlist-option-text-color-disabled,var(--spectrum-alias-text-color-disabled));cursor:default}#button{width:100%}button{border:0;background:0;padding:0;margin:0;display:inherit;font:inherit;color:inherit;text-align:inherit}#selected{flex-shrink:0}"]);return f=function(){return t},t}var b=u(f());function g(){var t=e([".checkmark-medium{width:var(--spectrum-icon-checkmark-medium-width);height:var(--spectrum-icon-checkmark-medium-height)}"]);return g=function(){return t},t}var k=u(g());function I(){var t=e([' <sp-icons-medium></sp-icons-medium> <sp-icon id="selected" name="ui:CheckmarkMedium" size="s" slot="icon" class="checkmark-medium"></sp-icon> ']);return I=function(){return t},t}var y=function(e){function a(){var e;return o(this,a),(e=n(this,s(a).apply(this,arguments))).tabIndex=-1,e._value="",e}return t(a,e),i(a,[{key:"connectedCallback",value:function(){if(r(s(a.prototype),"connectedCallback",this).call(this),!this.hasAttribute("role")){var e=new CustomEvent("sp-menu-item-query-role",{bubbles:!0,composed:!0,detail:{role:""}});this.dispatchEvent(e),this.setAttribute("role",e.detail.role||"menuitem")}}},{key:"value",get:function(){return this._value||this.itemText},set:function(e){e!==this.value&&(this._value=e||"",this.value?this.setAttribute("value",this.value):this.removeAttribute("value"))}},{key:"itemText",get:function(){return(this.textContent||"").trim()}},{key:"buttonContent",get:function(){var e=r(s(a.prototype),"buttonContent",this);return this.selected&&e.push(c(I())),e}}],[{key:"styles",get:function(){return[v,b,k]}}]),a}(h);function x(){var t=e([":host{box-sizing:initial;overflow:visible;height:var(--spectrum-selectlist-divider-size,var(--spectrum-alias-border-size-thick));margin:calc(var(--spectrum-selectlist-divider-padding,3px)/ 2) var(--spectrum-selectlist-option-padding,var(--spectrum-global-dimension-static-size-150));padding:0;border:none;background-color:var(--spectrum-selectlist-divider-color,var(--spectrum-alias-border-color-extralight));display:block}"]);return x=function(){return t},t}p([d({type:Number,reflect:!0})],y.prototype,"tabIndex",void 0),p([d({type:String})],y.prototype,"value",null);var w=u(x()),z=function(e){function r(){return o(this,r),n(this,s(r).apply(this,arguments))}return t(r,e),i(r,[{key:"firstUpdated",value:function(){this.setAttribute("role","separator")}}],[{key:"styles",get:function(){return[w]}}]),r}(m);function C(){var t=e([":host{box-sizing:border-box;margin:var(--spectrum-popover-padding-y,var(--spectrum-global-dimension-size-50)) 0;padding:0;list-style-type:none;overflow:auto;display:block;background-color:var(--spectrum-selectlist-background-color,var(--spectrum-alias-background-color-transparent));display:inline-block}:host sp-menu{display:block}"]);return C=function(){return t},t}customElements.define("sp-menu-item",y),customElements.define("sp-menu-divider",z);var L=u(C());function A(){var t=e([' <slot @slotchange="','"></slot> ']);return A=function(){return t},t}var E=function(e){function u(){var e;return o(this,u),(e=n(this,s(u).call(this))).menuItems=[],e.focusedItemIndex=0,e.focusInItemIndex=0,e.handleKeydown=e.handleKeydown.bind(a(e)),e.startListeningToKeyboard=e.startListeningToKeyboard.bind(a(e)),e.stopListeningToKeyboard=e.stopListeningToKeyboard.bind(a(e)),e.onClick=e.onClick.bind(a(e)),e.addEventListener("click",e.onClick),e.addEventListener("focusin",e.startListeningToKeyboard),e.addEventListener("focusout",e.stopListeningToKeyboard),e}return t(u,e),i(u,[{key:"focus",value:function(){if(0!==this.menuItems.length){var e=this.menuItems[this.focusInItemIndex];this.focusedItemIndex=this.focusInItemIndex,e.focus()}}},{key:"onClick",value:function(e){var t=this;e.composedPath().find((function(e){return e instanceof Element&&e.getAttribute("role")===t.childRole}))&&this.prepareToCleanUp()}},{key:"startListeningToKeyboard",value:function(){0!==this.menuItems.length&&this.addEventListener("keydown",this.handleKeydown)}},{key:"stopListeningToKeyboard",value:function(){this.removeEventListener("keydown",this.handleKeydown)}},{key:"handleKeydown",value:function(e){var t=e.code;if("Tab"!==t){if("ArrowDown"===t||"ArrowUp"===t){e.preventDefault();var o="ArrowDown"===t?1:-1;this.focusMenuItemByOffset(o)}}else this.prepareToCleanUp()}},{key:"focusMenuItemByOffset",value:function(e){var t=this.menuItems[this.focusedItemIndex];this.focusedItemIndex=(this.menuItems.length+this.focusedItemIndex+e)%this.menuItems.length;for(var o=this.menuItems[this.focusedItemIndex];o.disabled;)this.focusedItemIndex=(this.menuItems.length+this.focusedItemIndex+e)%this.menuItems.length,o=this.menuItems[this.focusedItemIndex];o.focus(),t.tabIndex=-1}},{key:"prepareToCleanUp",value:function(){var e=this;document.addEventListener("focusout",(function(){requestAnimationFrame((function(){e.querySelector("[selected]")&&(e.menuItems[e.focusInItemIndex].tabIndex=-1);e.updateSelectedItemIndex(),e.menuItems[e.focusInItemIndex].tabIndex=0}))}),{once:!0})}},{key:"updateSelectedItemIndex",value:function(){for(var e=this.menuItems.length-1,t=this.menuItems[e];e&&t&&!t.selected;)e-=1,t=this.menuItems[e];this.focusedItemIndex=e,this.focusInItemIndex=e}},{key:"handleSlotchange",value:function(){(this.menuItems=l(this.querySelectorAll('[role="'.concat(this.childRole,'"]'))),this.menuItems&&0!==this.menuItems.length)&&(this.updateSelectedItemIndex(),this.menuItems[this.focusInItemIndex].tabIndex=0)}},{key:"render",value:function(){return c(A(),this.handleSlotchange)}},{key:"connectedCallback",value:function(){if(r(s(u.prototype),"connectedCallback",this).call(this),!this.hasAttribute("role")){var e=new CustomEvent("sp-menu-query-role",{bubbles:!0,composed:!0,detail:{role:""}});this.dispatchEvent(e),this.setAttribute("role",e.detail.role||"menu")}}},{key:"childRole",get:function(){return"menu"===this.getAttribute("role")?"menuitem":"option"}}],[{key:"styles",get:function(){return[L]}}]),u}(m);customElements.define("sp-menu",E)}}}));
//# sourceMappingURL=index-640efe7a.js.map
