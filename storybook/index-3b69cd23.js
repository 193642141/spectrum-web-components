import{c as e,p as t,L as o,_ as n}from"./lit-element-089a5717.js";import{q as r}from"./storybook-preview-9aba481c.js";import{_ as i}from"./tslib.es6-d9c764b6.js";var a=e`:host([disabled]) #trigger{pointer-events:none}#overlay-content{display:none}`;function s(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height,top:t.top,right:t.right,bottom:t.bottom,left:t.left,x:t.left,y:t.top}}function l(e){if("[object Window]"!=={}.toString.call(e)){var t=e.ownerDocument;return t?t.defaultView:window}return e}function c(e){var t=l(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function p(e){return e instanceof l(e).Element}function d(e){return e instanceof l(e).HTMLElement}function f(e){return e?(e.nodeName||"").toLowerCase():null}function u(e,t,o){void 0===o&&(o=!1);var n,r,i=s(e),a={scrollLeft:0,scrollTop:0},p={x:0,y:0};return o||("body"!==f(t)&&(a=(n=t)!==l(n)&&d(n)?{scrollLeft:(r=n).scrollLeft,scrollTop:r.scrollTop}:c(n)),d(t)&&((p=s(t)).x+=t.clientLeft,p.y+=t.clientTop)),{x:i.left+a.scrollLeft-p.x,y:i.top+a.scrollTop-p.y,width:i.width,height:i.height}}function h(e){return{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}}function m(e){return"html"===f(e)?e:e.parentNode||e.host||document.ownerDocument||document.documentElement}function v(e){return l(e).getComputedStyle(e)}function y(e,t){void 0===t&&(t=[]);var o=function e(t){if(["html","body","#document"].indexOf(f(t))>=0)return t.ownerDocument.body;if(d(t)){var o=v(t),n=o.overflow,r=o.overflowX,i=o.overflowY;if(/auto|scroll|overlay|hidden/.test(n+i+r))return t}return e(m(t))}(e),n="body"===f(o),r=n?l(o):o,i=t.concat(r);return n?i:i.concat(y(m(r)))}function g(e){return["table","td","th"].indexOf(f(e))>=0}var b=function(){return void 0!==window.InstallTrigger};function w(e){var t;return!d(e)||!(t=e.offsetParent)||b()&&"fixed"===v(t).position?null:t}function O(e){for(var t=l(e),o=w(e);o&&g(o);)o=w(o);return o&&"body"===f(o)&&"static"===v(o).position?t:o||t}var C="top",x="bottom",E="right",k="left",T="auto",P=[C,x,E,k],S="start",A="end",D="clippingParents",M="viewport",j="popper",L="reference",q=P.reduce((function(e,t){return e.concat([t+"-"+S,t+"-"+A])}),[]),N=[].concat(P,[T]).reduce((function(e,t){return e.concat([t,t+"-"+S,t+"-"+A])}),[]),R=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function F(e){var t=new Map,o=new Set,n=[];return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){o.has(e.name)||function e(r){o.add(r.name),[].concat(r.requires||[],r.requiresIfExists||[]).forEach((function(n){if(!o.has(n)){var r=t.get(n);r&&e(r)}})),n.push(r)}(e)})),n}function W(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];return[].concat(o).reduce((function(e,t){return e.replace(/%s/,t)}),e)}var H='Popper: modifier "%s" provided an invalid %s property, expected %s but got %s',B='Popper: modifier "%s" requires "%s", but "%s" modifier is not available',z=["name","enabled","phase","fn","effect","requires","options"];function _(e,t){var o=new Set;return e.filter((function(e){var n=t(e);if(!o.has(n))return o.add(n),!0}))}function I(e){return e.split("-")[0]}var U="Popper: Invalid reference or popper argument provided to Popper, they must be either a valid DOM element, virtual element, or a jQuery-wrapped DOM element.",$="Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.",V={placement:"bottom",modifiers:[],strategy:"absolute"};function K(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}var X={passive:!0};function Y(e){return e.split("-")[1]}function J(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Q(e){var t,o=e.reference,n=e.element,r=e.placement,i=r?I(r):null,a=r?Y(r):null,s=o.x+o.width/2-n.width/2,l=o.y+o.height/2-n.height/2;switch(i){case C:t={x:s,y:o.y-n.height};break;case x:t={x:s,y:o.y+o.height};break;case E:t={x:o.x+o.width,y:l};break;case k:t={x:o.x-n.width,y:l};break;default:t={x:o.x,y:o.y}}var c=i?J(i):null;if(null!=c){var p="y"===c?"height":"width";switch(a){case S:t[c]=Math.floor(t[c])-Math.floor(o[p]/2-n[p]/2);break;case A:t[c]=Math.floor(t[c])+Math.ceil(o[p]/2-n[p]/2)}}return t}function G(e){return e.ownerDocument.documentElement}var Z={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ee(e){var t,o=e.popper,n=e.popperRect,r=e.placement,i=e.offsets,a=e.position,s=e.gpuAcceleration,c=e.adaptive,p=function(e){var t=e.x,o=e.y,n=window.devicePixelRatio||1;return{x:Math.round(t*n)/n||0,y:Math.round(o*n)/n||0}}(i),d=p.x,f=p.y,u=i.hasOwnProperty("x"),h=i.hasOwnProperty("y"),m=k,v=C;if(c){var y=O(o);y===l(o)&&(y=G(o)),r===C&&(v=x,f-=y.clientHeight-n.height,f*=s?1:-1),r===k&&(m=E,d-=y.clientWidth-n.width,d*=s?1:-1)}var g,b=Object.assign({position:a},c&&Z);return s?Object.assign({},b,((g={})[v]=h?"0":"",g[m]=u?"0":"",g.transform=(window.devicePixelRatio||1)<2?"translate("+d+"px, "+f+"px)":"translate3d("+d+"px, "+f+"px, 0)",g)):Object.assign({},b,((t={})[v]=h?f+"px":"",t[m]=u?d+"px":"",t.transform="",t))}var te={left:"right",right:"left",bottom:"top",top:"bottom"};function oe(e){return e.replace(/left|right|bottom|top/g,(function(e){return te[e]}))}var ne={start:"end",end:"start"};function re(e){return e.replace(/start|end/g,(function(e){return ne[e]}))}function ie(e){return parseFloat(e)||0}function ae(e){var t=l(e),o=function(e){var t=d(e)?v(e):{};return{top:ie(t.borderTopWidth),right:ie(t.borderRightWidth),bottom:ie(t.borderBottomWidth),left:ie(t.borderLeftWidth)}}(e),n="html"===f(e),r=e.clientWidth+o.right,i=e.clientHeight+o.bottom;return{top:e.clientTop,right:e.clientLeft>o.left?o.right:n?t.innerWidth-r:e.offsetWidth-r,bottom:n?t.innerHeight-i:e.offsetHeight-i,left:e.clientLeft}}function se(e,t){var o=Boolean(t.getRootNode&&t.getRootNode().host);if(e.contains(t))return!0;if(o){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function le(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ce(e,t){return t===M?le(function(e){var t=l(e);return{width:t.innerWidth,height:t.innerHeight,x:0,y:0}}(e)):d(t)?s(t):le(function(e){var t=l(e),o=c(e),n=u(G(e),t);return n.height=Math.max(n.height,t.innerHeight),n.width=Math.max(n.width,t.innerWidth),n.x=-o.scrollLeft,n.y=-o.scrollTop,n}(G(e)))}function pe(e,t,o){var n="clippingParents"===t?function(e){var t=y(e),o=["absolute","fixed"].indexOf(v(e).position)>=0&&d(e)?O(e):e;return p(o)?t.filter((function(e){return p(e)&&se(e,o)})):[]}(e):[].concat(t),r=[].concat(n,[o]),i=r[0],a=r.reduce((function(t,o){var n=ce(e,o),r=ae(d(o)?o:G(e));return t.top=Math.max(n.top+r.top,t.top),t.right=Math.min(n.right-r.right,t.right),t.bottom=Math.min(n.bottom-r.bottom,t.bottom),t.left=Math.max(n.left+r.left,t.left),t}),ce(e,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function de(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},{},e)}function fe(e,t){return t.reduce((function(t,o){return t[o]=e,t}),{})}function ue(e,t){void 0===t&&(t={});var o=t,n=o.placement,r=void 0===n?e.placement:n,i=o.boundary,a=void 0===i?D:i,l=o.rootBoundary,c=void 0===l?M:l,d=o.elementContext,f=void 0===d?j:d,u=o.altBoundary,h=void 0!==u&&u,m=o.padding,v=void 0===m?0:m,y=de("number"!=typeof v?v:fe(v,P)),g=f===j?L:j,b=e.elements.reference,w=e.rects.popper,O=e.elements[h?g:f],k=pe(p(O)?O:G(e.elements.popper),a,c),T=s(b),S=Q({reference:T,element:w,strategy:"absolute",placement:r}),A=le(Object.assign({},w,{},S)),q=f===j?A:T,N={top:k.top-q.top+y.top,bottom:q.bottom-k.bottom+y.bottom,left:k.left-q.left+y.left,right:q.right-k.right+y.right},R=e.modifiersData.offset;if(f===j&&R){var F=R[r];Object.keys(N).forEach((function(e){var t=[E,x].indexOf(e)>=0?1:-1,o=[C,x].indexOf(e)>=0?"y":"x";N[e]+=F[o]*t}))}return N}function he(e,t,o){return Math.max(e,Math.min(t,o))}var me=function(e){void 0===e&&(e={});var t=e,o=t.defaultModifiers,n=void 0===o?[]:o,r=t.defaultOptions,i=void 0===r?V:r;return function(e,t,o){void 0===o&&(o=i);var r,a,s={placement:"bottom",orderedModifiers:[],options:Object.assign({},V,{},i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],c=!1,d={state:s,setOptions:function(o){f(),s.options=Object.assign({},i,{},s.options,{},o),s.scrollParents={reference:p(e)?y(e):[],popper:y(t)};var r=function(e){var t=F(e);return R.reduce((function(e,o){return e.concat(t.filter((function(e){return e.phase===o})))}),[])}([].concat(s.options.modifiers.filter((function(e){return!n.find((function(t){return t.name===e.name}))})),n.map((function(e){return Object.assign({},e,{},s.options.modifiers.find((function(t){return t.name===e.name})))}))));if("production"!==process.env.NODE_ENV){if(function(e){e.forEach((function(t){Object.keys(t).forEach((function(o){switch(o){case"name":"string"!=typeof t.name&&console.error(W(H,String(t.name),'"name"','"string"','"'+String(t.name)+'"'));break;case"enabled":"boolean"!=typeof t.enabled&&console.error(W(H,t.name,'"enabled"','"boolean"','"'+String(t.enabled)+'"'));case"phase":R.indexOf(t.phase)<0&&console.error(W(H,t.name,'"phase"',"either "+R.join(", "),'"'+String(t.phase)+'"'));break;case"fn":"function"!=typeof t.fn&&console.error(W(H,t.name,'"fn"','"function"','"'+String(t.fn)+'"'));break;case"effect":"function"!=typeof t.effect&&console.error(W(H,t.name,'"effect"','"function"','"'+String(t.fn)+'"'));break;case"requires":Array.isArray(t.requires)||console.error(W(H,t.name,'"requires"','"array"','"'+String(t.requires)+'"'));break;case"requiresIfExists":Array.isArray(t.requiresIfExists)||console.error(W(H,t.name,'"requiresIfExists"','"array"','"'+String(t.requiresIfExists)+'"'));break;case"options":case"data":break;default:console.error('PopperJS: an invalid property has been provided to the "'+t.name+'" modifier, valid properties are '+z.map((function(e){return'"'+e+'"'})).join(", ")+'; but "'+o+'" was provided.')}t.requires&&t.requires.forEach((function(o){null==e.find((function(e){return e.name===o}))&&console.error(W(B,String(t.name),o,o))}))}))}))}(_([].concat(r,s.options.modifiers),(function(e){return e.name}))),I(s.options.placement)===T)r.find((function(e){return"flip"===e.name}))||console.error(['Popper: "auto" placements require the "flip" modifier be',"present and enabled to work."].join(" "));var a=v(t);[a.marginTop,a.marginRight,a.marginBottom,a.marginLeft].some((function(e){return parseFloat(e)}))&&console.warn(['Popper: CSS "margin" styles cannot be used to apply padding',"between the popper and its reference element or boundary.","To replicate margin, use the `offset` modifier, as well as","the `padding` option in the `preventOverflow` and `flip`","modifiers."].join(" "))}return s.orderedModifiers=r.filter((function(e){return e.enabled})),s.orderedModifiers.forEach((function(e){var t=e.name,o=e.options,n=void 0===o?{}:o,r=e.effect;if("function"==typeof r){var i=r({state:s,name:t,instance:d,options:n});l.push(i||function(){})}})),d.update()},forceUpdate:function(){if(!c){var e=s.elements,t=e.reference,o=e.popper;if(K(t,o)){s.rects={reference:u(t,O(o),"fixed"===s.options.strategy),popper:h(o)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach((function(e){return s.modifiersData[e.name]=Object.assign({},e.data)}));for(var n=0,r=0;r<s.orderedModifiers.length;r++){if("production"!==process.env.NODE_ENV&&(n+=1)>100){console.error($);break}if(!0!==s.reset){var i=s.orderedModifiers[r],a=i.fn,l=i.options,p=void 0===l?{}:l,f=i.name;"function"==typeof a&&(s=a({state:s,options:p,name:f,instance:d})||s)}else s.reset=!1,r=-1}}else"production"!==process.env.NODE_ENV&&console.error(U)}},update:(r=function(){return new Promise((function(e){d.forceUpdate(),e(s)}))},function(){return a||(a=new Promise((function(e){Promise.resolve().then((function(){a=void 0,e(r())}))}))),a}),destroy:function(){f(),c=!0}};if(!K(e,t))return"production"!==process.env.NODE_ENV&&console.error(U),d;function f(){l.forEach((function(e){return e()})),l=[]}return d.setOptions(o).then((function(e){!c&&o.onFirstUpdate&&o.onFirstUpdate(e)})),d}}({defaultModifiers:[...[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,o=e.instance,n=e.options,r=n.scroll,i=void 0===r||r,a=n.resize,s=void 0===a||a,c=l(t.elements.popper),p=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&p.forEach((function(e){e.addEventListener("scroll",o.update,X)})),s&&c.addEventListener("resize",o.update,X),function(){i&&p.forEach((function(e){e.removeEventListener("scroll",o.update,X)})),s&&c.removeEventListener("resize",o.update,X)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,o=e.name;t.modifiersData[o]=Q({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,o=e.options,n=o.gpuAcceleration,r=void 0===n||n,i=o.adaptive,a=void 0===i||i;"production"!==process.env.NODE_ENV&&a&&parseFloat(v(t.elements.popper).transitionDuration)&&console.warn(['Popper: The "computeStyles" modifier\'s `adaptive` option must be',"disabled if CSS transitions are applied to the popper element."].join(" "));var s={placement:I(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r};t.styles.popper=Object.assign({},t.styles.popper,{},ee(Object.assign({},s,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a}))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,{},ee(Object.assign({},s,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var o=t.styles[e]||{},n=t.attributes[e]||{},r=t.elements[e];d(r)&&f(r)&&(Object.assign(r.style,o),Object.keys(n).forEach((function(e){var t=n[e];!1===t?r.removeAttribute(e):r.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,o={position:"absolute",left:"0",top:"0",margin:"0"};return Object.assign(t.elements.popper.style,o),function(){Object.keys(t.elements).forEach((function(e){var n=t.elements[e],r=Object.keys(t.styles.hasOwnProperty(e)?Object.assign({},t.styles[e]):o),i=t.attributes[e]||{},a=r.reduce((function(e,t){var o;return Object.assign({},e,((o={})[String(t)]="",o))}),{});d(n)&&f(n)&&(Object.assign(n.style,a),Object.keys(i).forEach((function(e){return n.removeAttribute(e)})))}))}},requires:["computeStyles"]}],{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,o=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var r=o.fallbackPlacements,i=o.padding,a=o.boundary,s=o.rootBoundary,l=o.flipVariations,c=void 0===l||l,p=t.options.placement,d=I(p),f=r||(d===p||!c?[oe(p)]:function(e){if(I(e)===T)return[];var t=oe(e);return[re(e),t,re(t)]}(p)),u=_([p].concat(f).reduce((function(e,o){return I(o)===T?e.concat(function(e,t){void 0===t&&(t={});var o=t,n=o.placement,r=o.boundary,i=o.rootBoundary,a=o.padding,s=o.flipVariations,l=Y(n),c=(l?s?q:q.filter((function(e){return Y(e)===l})):P).reduce((function(t,o){return t[o]=ue(e,{placement:o,boundary:r,rootBoundary:i,padding:a})[I(o)],t}),{});return Object.keys(c).sort((function(e,t){return c[e]-c[t]}))}(t,{placement:o,boundary:a,rootBoundary:s,padding:i,flipVariations:c})):e.concat(o)}),[]),(function(e){return e})),h=t.rects.reference,m=t.rects.popper,v=new Map,y=!0,g=u[0],b=0;b<u.length;b++){var w=u[b],O=I(w),A=Y(w)===S,D=[C,x].indexOf(O)>=0,M=D?"width":"height",j=ue(t,{placement:w,boundary:a,rootBoundary:s,padding:i}),L=D?A?E:k:A?x:C;h[M]>m[M]&&(L=oe(L));var N=oe(L),R=[j[O]<=0,j[L]<=0,j[N]<=0];if(R.every((function(e){return e}))){g=w,y=!1;break}v.set(w,R)}if(y)for(var F=function(e){var t=u.find((function(t){var o=v.get(t);if(o)return o.slice(0,e).every((function(e){return e}))}));if(t)return g=t,"break"},W=c?3:1;W>0;W--){if("break"===F(W))break}t.placement!==g&&(t.modifiersData[n]._skip=!0,t.placement=g,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,o=e.options,n=e.name,r=o.mainAxis,i=void 0===r||r,a=o.altAxis,s=void 0!==a&&a,l=o.boundary,c=o.rootBoundary,p=o.padding,d=o.tether,f=void 0===d||d,u=o.tetherOffset,m=void 0===u?0:u,v=ue(t,{boundary:l,rootBoundary:c,padding:p}),y=I(t.placement),g=Y(t.placement),b=!g,w=J(y),O="x"===w?"y":"x",T=t.modifiersData.popperOffsets,P=t.rects.reference,A=t.rects.popper,D="function"==typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,M={x:0,y:0};if(i){var j="y"===w?C:k,L="y"===w?x:E,q="y"===w?"height":"width",N=T[w],R=T[w]+v[j],F=T[w]-v[L],W=f?-A[q]/2:0,H=g===S?P[q]:A[q],B=g===S?-A[q]:-P[q],z=t.elements.arrow,_=f&&z?h(z):{width:0,height:0},U=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},$=U[j],V=U[L],K=he(0,Math.abs(P[q]-_[q]),_[q]),X=b?P[q]/2-W-K-$-D:H-K-$-D,Q=b?-P[q]/2+W+K+V+D:B+K+V+D,G=t.modifiersData.offset?t.modifiersData.offset[t.placement][w]:0,Z=t.modifiersData.popperOffsets[w]+X-G,ee=t.modifiersData.popperOffsets[w]+Q-G,te=he(f?Math.min(R,Z):R,N,f?Math.max(F,ee):F);t.modifiersData.popperOffsets[w]=te,M[w]=te-N}if(s){var oe="x"===w?C:k,ne="x"===w?x:E,re=T[O],ie=he(re+v[oe],re,re-v[ne]);t.modifiersData.popperOffsets[O]=ie,M[O]=ie-re}t.modifiersData[n]=M},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,o=e.state,n=e.name,r=o.elements.arrow,i=o.modifiersData.popperOffsets,a=I(o.placement),s=J(a),l=[k,E].indexOf(a)>=0?"height":"width";if(r){var c=o.modifiersData[n+"#persistent"].padding,p=h(r),d="y"===s?C:k,f="y"===s?x:E,u=(o.rects.reference[l]+o.rects.reference[s]-i[s]-o.rects.popper[l])/2-(i[s]-o.rects.reference[s])/2,m=he(c[d],o.rects.popper[l]/2-p[l]/2+u,o.rects.popper[l]-p[l]-c[f]),v=s;o.modifiersData[n]=((t={})[v]=m,t)}},effect:function(e){var t=e.state,o=e.options,n=e.name,r=o.element,i=void 0===r?"[data-popper-arrow]":r,a=o.padding,s=void 0===a?0:a;("string"!=typeof i||(i=t.elements.popper.querySelector(i)))&&(se(t.elements.popper,i)?(t.elements.arrow=i,t.modifiersData[n+"#persistent"]={padding:de("number"!=typeof s?s:fe(s,P))}):"production"!==process.env.NODE_ENV&&console.error(['Popper: "arrow" modifier\'s `element` must be a child of the popper',"element."].join(" ")))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,o=e.options,n=e.name,r=o.offset,i=void 0===r?[0,0]:r,a=N.reduce((function(e,o){return e[o]=function(e,t,o){var n=I(e),r=[k,C].indexOf(n)>=0?-1:1,i="function"==typeof o?o(Object.assign({},t,{placement:e})):o,a=i[0],s=i[1];return a=a||0,s=(s||0)*r,[k,E].indexOf(n)>=0?{x:s,y:a}:{x:a,y:s}}(o,t.rects,i),e}),{}),s=a[t.placement],l=s.x,c=s.y;t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c,t.modifiersData[n]=a}},{name:"computeArrowRotateStyles",enabled:!0,phase:"beforeWrite",requiresIfExists:["arrow"],fn:function(e){if(e.state.styles&&e.state.styles.arrow){var t;switch(e.state.placement){case"bottom":case"bottom-start":case"bottom-end":t=180;break;case"top":case"top-start":case"top-end":return;case"left":case"left-start":case"left-end":t=270;break;case"right":case"right-start":case"right-end":t=90;break;default:return}e.state.styles.arrow.transform+=` rotate(${t}deg)`,e.state.styles.arrow.marginLeft="0"}},data:{}}]}),ve=e`@keyframes spOverlayFadeIn{0%{opacity:0;transform:var(--sp-overlay-from)}to{opacity:1;transform:translate(0)}}@keyframes spOverlayFadeOut{0%{opacity:1;transform:translate(0)}to{opacity:0;transform:var(--sp-overlay-from)}}:host{z-index:1000;position:absolute}#contents,:host{display:inline-block;pointer-events:none}#contents{animation-duration:var(--spectrum-global-animation-duration-200);animation-timing-function:var(--spectrum-global-animation-ease-out);opacity:1;visibility:visible}:host([data-popper-placement*=top]) #contents{--sp-overlay-from:translateY(var(--spectrum-global-dimension-size-75))}:host([data-popper-placement*=right]) #contents{--sp-overlay-from:translateX(calc(-1*var(--spectrum-global-dimension-size-75)))}:host([data-popper-placement*=bottom]) #contents{--sp-overlay-from:translateY(calc(-1*var(--spectrum-global-dimension-size-75)))}:host([data-popper-placement*=left]) #contents{--sp-overlay-from:translateX(var(--spectrum-global-dimension-size-75))}::slotted(*){position:relative}:host([animating]) ::slotted(*){pointer-events:none}`,ye={initial:"idle",states:{idle:{on:{active:"active"}},active:{on:{visible:"visible",hiding:"hiding",idle:"idle"}},visible:{on:{hiding:"hiding",idle:"idle"}},hiding:{on:{idle:"idle"}}}},ge=(e,t)=>e?t&&ye.states[e].on[t]||e:ye.initial;class be extends o{constructor(){super(...arguments),this.originalSlot=null,this._state=ge(),this.animating=!1,this.offset=6,this.interaction="hover",this.positionAnimationFrame=0}get state(){return this._state}set state(e){var t=ge(this.state,e);t!==this.state&&(this._state=t,"idle"===this.state?this.removeAttribute("state"):this.setAttribute("state",this.state))}get hasTheme(){return!!this.color||!!this.scale}static get styles(){return[ve]}firstUpdated(e){super.firstUpdated(e),this.overlayContent&&(this.stealOverlayContent(this.overlayContent),this.overlayContent&&this.trigger&&this.shadowRoot&&(this.placement&&"none"!==this.placement&&(this.popper=me(this.trigger,this,{placement:this.placement,modifiers:[{name:"arrow",options:{element:this.overlayContentTip}},{name:"offset",options:{offset:[0,this.offset]}}]})),this.state="active",document.addEventListener("sp-update-overlays",()=>{this.updateOverlayPosition(),this.state="visible"}),this.updateOverlayPosition().then(()=>this.applyContentAnimation("spOverlayFadeIn"))))}updateOverlayPopperPlacement(){this.overlayContent&&(this.dataPopperPlacement?this.overlayContent.setAttribute("placement",this.dataPopperPlacement):this.originalPlacement?this.overlayContent.setAttribute("placement",this.originalPlacement):this.overlayContent.removeAttribute("placement"))}updated(e){e.has("dataPopperPlacement")&&this.updateOverlayPopperPlacement()}open(e){this.extractDetail(e)}extractDetail(e){this.overlayContent=e.content,this.overlayContentTip=e.contentTip,this.trigger=e.trigger,this.placement=e.placement,this.offset=e.offset,this.interaction=e.interaction,this.color=e.theme.color,this.scale=e.theme.scale}dispose(){this.state="idle",this.timeout&&(clearTimeout(this.timeout),delete this.timeout),this.popper&&(this.popper.destroy(),this.popper=void 0),this.returnOverlayContent()}stealOverlayContent(e){if(!this.placeholder&&e){this.placeholder||(this.placeholder=document.createComment("placeholder for "+e.nodeName));var t=e.parentElement||e.getRootNode();t&&t.replaceChild(this.placeholder,e),this.overlayContent=e,this.originalSlot=this.overlayContent.getAttribute("slot"),this.overlayContent.setAttribute("slot","overlay"),this.appendChild(this.overlayContent),this.originalPlacement=this.overlayContent.getAttribute("placement")}}returnOverlayContent(){if(this.overlayContent){if(this.originalSlot?(this.overlayContent.setAttribute("slot",this.originalSlot),delete this.originalSlot):this.overlayContent.removeAttribute("slot"),this.placeholder){var e=this.placeholder.parentElement||this.placeholder.getRootNode();e&&(e.replaceChild(this.overlayContent,this.placeholder),this.overlayContent.dispatchEvent(new Event("sp-overlay-closed")))}this.originalPlacement&&(this.overlayContent.setAttribute("placement",this.originalPlacement),delete this.originalPlacement),delete this.placeholder}}updateOverlayPosition(){var e=this;return n((function*(){e.popper&&(yield e.popper.update())}))()}hide(e=!0){var t=this;return n((function*(){e&&(t.state="hiding",yield t.applyContentAnimation("spOverlayFadeOut")),t.state="idle"}))()}schedulePositionUpdate(){cancelAnimationFrame(this.positionAnimationFrame),this.positionAnimationFrame=requestAnimationFrame(()=>this.updateOverlayPosition())}onSlotChange(){this.schedulePositionUpdate()}connectedCallback(){super.connectedCallback(),this.schedulePositionUpdate()}applyContentAnimation(e){return new Promise((t,o)=>{if(this.shadowRoot){var n=this.shadowRoot.querySelector("#contents"),r=o=>{e===o.animationName&&(n.removeEventListener("animationend",r),n.removeEventListener("animationcancel",r),this.animating=!1,t("animationcancel"===o.type))};n.addEventListener("animationend",r),n.addEventListener("animationcancel",r),n.style.animationName=e,this.animating=!0}else o()})}renderTheme(e){importShim("./index-e0e40925.js");var t=this.color,o=this.scale;return r` <sp-theme .color="${t}" .scale="${o}"> ${e} </sp-theme> `}render(){var e=r` <div id="contents"> <slot @slotchange="${this.onSlotChange}" name="overlay"></slot> </div> `;return this.hasTheme?this.renderTheme(e):e}static create(e){var t=new be;return e.content&&t.open(e),t}}i([t()],be.prototype,"_state",void 0),i([t({reflect:!0,type:Boolean})],be.prototype,"animating",void 0),i([t({reflect:!0})],be.prototype,"placement",void 0),i([t({attribute:!1})],be.prototype,"color",void 0),i([t({attribute:!1})],be.prototype,"scale",void 0),i([t({attribute:"data-popper-placement"})],be.prototype,"dataPopperPlacement",void 0);var we=1e3,Oe=1e3;class Ce{constructor(e={}){this.warmUpDelay=we,this.coolDownDelay=Oe,this.isWarm=!1,this.cooldownTimeout=0,this.timeout=0,Object.assign(this,e)}openTimer(e){var t=this;return n((function*(){if(t.cancelCooldownTimer(),t.component&&e.isSameNode(t.component)){if(t.promise)return t.promise;throw new Error("Inconsistent state")}return t.component&&(t.close(t.component),t.cancelCooldownTimer()),t.component=e,!t.isWarm&&(t.promise=new Promise(e=>{t.resolve=e,t.timeout=window.setTimeout(()=>{t.resolve&&(t.resolve(!1),t.isWarm=!0)},t.warmUpDelay)}),t.promise)}))()}close(e){this.component&&this.component.isSameNode(e)&&(this.resetCooldownTimer(),this.timeout>0&&(clearTimeout(this.timeout),this.timeout=0),this.resolve&&(this.resolve(!0),delete this.resolve),delete this.promise,delete this.component)}resetCooldownTimer(){this.isWarm&&(this.cooldownTimeout&&window.clearTimeout(this.cooldownTimeout),this.cooldownTimeout=window.setTimeout(()=>{this.isWarm=!1,delete this.cooldownTimeout},this.coolDownDelay))}cancelCooldownTimer(){this.cooldownTimeout&&window.clearTimeout(this.cooldownTimeout),delete this.cooldownTimeout}}class xe{constructor(e,t,o){this.isOpen=!1,this.owner=e,this.overlayElement=o,this.interaction=t}static open(e,t,o,n){var r=new xe(e,t,o);return r.open(n),()=>r.close()}static update(){var e=new CustomEvent("sp-update-overlays",{bubbles:!0,composed:!0,cancelable:!0});document.dispatchEvent(e)}open({delayed:e,offset:t=0,placement:o="top"}){var r=this;return n((function*(){if(r.isOpen)return!0;void 0===e&&(e=r.overlayElement.hasAttribute("delayed"));var n={color:void 0,scale:void 0},i=new CustomEvent("sp-query-theme",{bubbles:!0,composed:!0,detail:n,cancelable:!0});r.owner.dispatchEvent(i);var a={},s=new CustomEvent("sp-overlay-query",{bubbles:!0,composed:!0,detail:a,cancelable:!0});return r.overlayElement.dispatchEvent(s),xe.overlayStack.openOverlay(Object.assign({content:r.overlayElement,contentTip:a.overlayContentTipElement,delayed:e,offset:t,placement:o,trigger:r.owner,interaction:r.interaction,theme:n},a)),r.isOpen=!0,!0}))()}close(){xe.overlayStack.closeOverlay(this.overlayElement)}}xe.overlayStack=new class{constructor(){var e=this;this.overlays=[],this.preventMouseRootClose=!1,this.root=document.body,this.handlingResize=!1,this.overlayTimer=new Ce,this.handleMouseCapture=e=>{var t=this.topOverlay;if(e.target&&t&&t.overlayContent&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)&&function(e){return 0===e.button}(e)){if(e.target instanceof Node){if(e.composedPath().indexOf(t.overlayContent)>=0)return void(this.preventMouseRootClose=!0);this.preventMouseRootClose=!1}}else this.preventMouseRootClose=!0},this.handleMouse=()=>{this.preventMouseRootClose||this.closeTopOverlay()},this.handleKeyUp=e=>{"Escape"===e.key&&this.closeTopOverlay()},this.handleResize=()=>{this.handlingResize||(this.handlingResize=!0,requestAnimationFrame(n((function*(){var t=e.overlays.map(e=>e.updateOverlayPosition());yield Promise.all(t),e.handlingResize=!1}))))},this.addEventListeners()}get document(){return this.root.ownerDocument||document}get topOverlay(){return this.overlays.slice(-1)[0]}findOverlayForContent(e){for(var t of this.overlays)if(e.isSameNode(t.overlayContent))return t}addEventListeners(){this.document.addEventListener("click",this.handleMouseCapture,!0),this.document.addEventListener("click",this.handleMouse),this.document.addEventListener("keyup",this.handleKeyUp),window.addEventListener("resize",this.handleResize)}isOverlayActive(e){return!!this.overlays.find(t=>e.isSameNode(t.overlayContent))}isClickOverlayActiveForTrigger(e){return this.overlays.some(t=>e.isSameNode(t.trigger)&&"click"===t.interaction)}openOverlay(e){var t=this;return n((function*(){if(t.isOverlayActive(e.content))return!1;if(e.delayed){var o=t.overlayTimer.openTimer(e.content);if(yield o)return o}return new Promise(o=>{requestAnimationFrame(()=>{if("click"===e.interaction)t.closeAllHoverOverlays();else if("hover"===e.interaction&&t.isClickOverlayActiveForTrigger(e.trigger))return void o(!0);var n=be.create(e);t.overlays.push(n),document.body.appendChild(n),o(!1)})})}))()}closeOverlay(e){this.overlayTimer.close(e),requestAnimationFrame(()=>{var t=this.findOverlayForContent(e);this.hideAndCloseOverlay(t)})}closeAllHoverOverlays(){for(var e of this.overlays)"hover"===e.interaction&&this.hideAndCloseOverlay(e,!1)}hideAndCloseOverlay(e,t=!0){var o=this;return n((function*(){if(e){yield e.hide(t),e.remove(),e.dispose();var n=o.overlays.indexOf(e);n>=0&&o.overlays.splice(n,1)}}))()}closeTopOverlay(){return this.hideAndCloseOverlay(this.topOverlay)}};class Ee extends o{constructor(){super(...arguments),this.placement="bottom",this.offset=6,this.disabled=!1}static get styles(){return[a]}render(){return r` <div id="trigger" @click="${this.onTriggerClick}" @mouseenter="${this.onTriggerMouseEnter}" @mouseleave="${this.onTriggerMouseLeave}"> <slot @slotchange="${this.onTargetSlotChange}" name="trigger"></slot> </div> <div id="overlay-content"> <slot @slotchange="${this.onClickSlotChange}" name="click-content"></slot> <slot @slotchange="${this.onHoverSlotChange}" name="hover-content"></slot> </div> `}onTriggerClick(){this.targetContent&&this.clickContent&&(this.closeClickOverlay=xe.open(this.targetContent,"click",this.clickContent,{offset:this.offset,placement:this.placement}))}onTriggerMouseEnter(){this.targetContent&&this.hoverContent&&(this.closeHoverOverlay=xe.open(this.targetContent,"hover",this.hoverContent,{offset:this.offset,placement:this.placement}))}onTriggerMouseLeave(){this.closeHoverOverlay&&(this.closeHoverOverlay(),delete this.closeHoverOverlay)}onClickSlotChange(e){var t=this.extractSlotContentFromEvent(e);this.clickContent=t}onHoverSlotChange(e){var t=this.extractSlotContentFromEvent(e);this.hoverContent=t}onTargetSlotChange(e){var t=this.extractSlotContentFromEvent(e);this.targetContent=t}extractSlotContentFromEvent(e){if(e.target)return e.target.assignedNodes().find(e=>e instanceof HTMLElement)}disconnectedCallback(){this.closeClickOverlay&&(this.closeClickOverlay(),delete this.closeClickOverlay),this.closeHoverOverlay&&(this.closeHoverOverlay(),delete this.closeHoverOverlay),super.disconnectedCallback()}}i([t({reflect:!0})],Ee.prototype,"placement",void 0),i([t({type:Number,reflect:!0})],Ee.prototype,"offset",void 0),i([t({type:Boolean,reflect:!0})],Ee.prototype,"disabled",void 0),customElements.get("overlay-trigger")||customElements.define("overlay-trigger",Ee),customElements.get("active-overlay")||customElements.define("active-overlay",be);export{xe as O};
//# sourceMappingURL=index-3b69cd23.js.map
